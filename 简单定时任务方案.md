# ğŸ”¥ è¶…ç®€å•å®šæ—¶ä»»åŠ¡æ–¹æ¡ˆ

## æ–¹æ¡ˆ1: å‰ç«¯è‡ªåŠ¨è§¦å‘ï¼ˆæœ€ç®€å•ï¼‰

åœ¨ç°æœ‰çš„Astroé¡µé¢ä¸­æ·»åŠ ï¼š

```javascript
// åœ¨ index.astro ä¸­æ·»åŠ 
<script>
  // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ˜¯å¦éœ€è¦æŠ“å–RSS
  async function checkAndFetchRSS() {
    const lastFetch = localStorage.getItem('lastRSSFetch');
    const now = Date.now();
    const oneDay = 24 * 60 * 60 * 1000; // 24å°æ—¶
    
    if (!lastFetch || (now - parseInt(lastFetch)) > oneDay) {
      console.log('ğŸ”¥ å¼€å§‹è‡ªåŠ¨æŠ“å–RSS...');
      await fetchAllRSS();
      localStorage.setItem('lastRSSFetch', now.toString());
    }
  }
  
  // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œ
  checkAndFetchRSS();
</script>
```

**ä¼˜åŠ¿**ï¼š
- ğŸ†“ å®Œå…¨å…è´¹
- ğŸš€ å³æ—¶ç”Ÿæ•ˆ
- ğŸ”§ æ— éœ€æœåŠ¡å™¨é…ç½®
- ğŸ‘€ ç”¨æˆ·æ‰“å¼€é¡µé¢å°±è‡ªåŠ¨æŠ“å–

---

## æ–¹æ¡ˆ2: åˆ›å»ºç®€å•çš„API + å…è´¹å¤–éƒ¨Cron

### 2.1 åˆ›å»ºAPI endpoint

```javascript
// src/pages/api/auto-fetch-rss.js
export async function GET() {
  try {
    // è·å–æ‰€æœ‰æ´»è·ƒRSSæº
    const response = await fetch('/api/fetch-all-rss');
    return new Response(JSON.stringify({
      success: true,
      message: 'è‡ªåŠ¨æŠ“å–å®Œæˆ',
      timestamp: new Date().toISOString()
    }), {
      headers: { 'Content-Type': 'application/json' }
    });
  } catch (error) {
    return new Response(JSON.stringify({
      success: false,
      error: error.message
    }), {
      status: 500,
      headers: { 'Content-Type': 'application/json' }
    });
  }
}
```

### 2.2 ä½¿ç”¨å…è´¹CronæœåŠ¡

1. è®¿é—® [cron-job.org](https://cron-job.org)ï¼ˆå…è´¹ï¼‰
2. è®¾ç½®URL: `https://your-domain.com/api/auto-fetch-rss`
3. è®¾ç½®æ—¶é—´: æ¯å¤©ä¸Šåˆ9ç‚¹
4. å®Œæˆï¼

---

## æ–¹æ¡ˆ3: GitHub Actionsï¼ˆå·²å‡†å¤‡å¥½ï¼‰

ç›´æ¥ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„ `.github/workflows/auto-rss-fetch.yml`

**ä¼˜åŠ¿**ï¼š
- ğŸ†“ GitHubå…è´¹
- ğŸ”„ å¯é ç¨³å®š
- ğŸ“Š æœ‰æ‰§è¡Œæ—¥å¿—
- ğŸ¯ ç²¾ç¡®æ§åˆ¶

---

## æ–¹æ¡ˆ4: Vercel Cronï¼ˆå¦‚æœç”¨Verceléƒ¨ç½²ï¼‰

```javascript
// vercel.json
{
  "crons": [
    {
      "path": "/api/auto-fetch-rss",
      "schedule": "0 9 * * *"
    }
  ]
}
```

---

## ğŸ¯ æ¨èæ–¹æ¡ˆæ’åºï¼š

1. **å‰ç«¯è‡ªåŠ¨è§¦å‘**ï¼ˆæœ€ç®€å•ï¼Œç«‹å³å¯ç”¨ï¼‰
2. **å¤–éƒ¨å…è´¹CronæœåŠ¡**ï¼ˆæœ€å¯é ï¼‰
3. **GitHub Actions**ï¼ˆæœ€ä¸“ä¸šï¼‰
4. **Vercel Cron**ï¼ˆå¦‚æœç”¨Vercelï¼‰

## ğŸš€ æœ€å¿«å®ç°ï¼š

é€‰æ‹©æ–¹æ¡ˆ1ï¼Œåœ¨å½“å‰é¡µé¢æ·»åŠ è‡ªåŠ¨è§¦å‘ä»£ç ï¼Œ5åˆ†é’Ÿæå®šï¼

ä½ è§‰å¾—å“ªä¸ªæ–¹æ¡ˆæœ€é€‚åˆï¼Ÿ